
## Gtd_admin - аддон только для Wow 1.12+. Предназначен для администрирования, ведения, учета progress-points (pp) игроков внутри гильдии. Автор: Casta\Madarra гильдии "Going to death" на реалме "Nordanaar" проекта wow-turtle. Email: baners@mail.ru. Discord id: 401793076663812097

## Команды управления:
`/gtd` - главное окно управления
`/gtd help` - справка по доп командам

# I. УСТАНОВКА

А. Аддон локализован только для руского языка. Поэтому, в корне аддона находится папка fonts, которую нужно скопировать в главный корень папки самой игры
вида "путь/к папке/с игрой/fonts".

Б. Установка формулы. Значения для формулы записываем в ги-инфо на отдельной строке ":0.25,0.25". Для этого нужно иметь права редактирования инфо гильдии (ГМ, Офицер). 
В итоге, получаем интервал для рола x*0.25 - x*0.25+100, где х - пп игрока. К примеру, игрок с 400 ПП поэтой формуле будет иметь ролл в интервале 100-200. При 300 ПП - 75-175 и тд..
Каждый клиент-аддон "gtdroll", который должен быть установлен у каждого игрока в рейде, подключается к информации гильдии и считывает эту формулу. Впоследствии, подменяет команду /rms на модифицированный рол с учетом этой формулы. 
Важно. Если первое значение в формуле будет больше второго, то при накоплении пп наступит событие, когда нижний предел рола станет выше верхнего. К примеру при 500 ПП при формуле :0.5,0.25 интервал рола будет 250-225 что в корне неправильно. Для этого служит команда списания (decay). В настоящее время рабочая формула у гильдии "Going to death": 0.25,0.25

В. Фильтр подземелий где будет работать прогресс-рол. Записываем в ги-инфо на отдельной строке идентификаторы тех подземелий, где нужно использовать прогресс-ролы "=1,2,3,4,5,6" и тд.. Возможен и такой вариант "=1,3,6" и др...
Из списка:
"Onyxia's Lair",--1
"Molten Core",--2
"Emerald Sanctum",--3
"Blackwing Lair",--4
"Ahn'Qiraj",--5
"Naxxramas"--6
Включать 20-ппл рейды с самого начала не стали, но это возможно. Если подземелье не включено в настройки, то при вводе команды `/rms` рол будет стандартным.

# II. РАБОТА С АДДОНОМ

А. После ввода команды `/gtd` открывается главное окно аддона, в котором возможно начислять\снимать всему рейду pp. Offline-Игрокам в рейде, так же будет начислено pp. Можно точечно начислять\снимать игроку pp введя имя игрока в соотв окно или выделить его в таргет и нажать кнопку "Взять c таргета".

Б. При нажатии на кнопку PP-рейтинг отображается информация по всей гильдии. Повторное нажатие меняет сортировку по имени и pp. Внутри окна рейтинга возможна команда Ctrl+A для копирования списка в буфер обмена для сохранения снимка в текстовом файле. Что-то типа архивации данных.

В. При вводе команды `/gtd decay 20` у всех игроков гильдии будет списано по 20% pp исходя из лично накопленного pp.

Г. Встроена защита от абуза ролов, где любой желающий может вручную при разроле дать команду типа `/roll 400-500` имея при этом малое количество pp. В этом случае у офицера\гм в системной чате (при включеном аддоне gtd_admin) будет сообщение красным и информация по его реальному диапазону рола. За полгода еще таких прецендентов не было. Возможен анонс при запаздывании рола игрока начислений за конкретно босса. Обычно, разница составляет 1-2 pp что не является ошибкой. Внутренние процессы сервера и клиента.

Д. Возможно начисление pp мейну вместо альта. Для этого в коде аддона надо вручную модифицировать масив nicknameChanges в файле gtd_admin.lua и перезагрузить ui командой `/reload` если включен аддон gtdroll или `/rl` если включен pfUi. Если альт и мейн одновременно в рейде - начислено будет только мейну без двойной записи.
